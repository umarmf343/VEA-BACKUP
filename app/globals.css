/* app/globals.css
   Purpose: Global design tokens + base styles that stabilize UI/UX.
   Notes:
   - Includes Tailwind directives.
   - Defines HSL tokens for light/dark themes.
   - Adds robust focus-visible ring and sensible defaults.
   - Provides utility classes (.bg-background, .text-foreground, etc.)
*/

/* --- Tailwind layers --- */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* --- Color tokens (HSL) --- */
:root {
  /* Surfaces + text */
  --background: 0 0% 100%;
  --foreground: 222 47% 11%;
  --card: 0 0% 100%;
  --card-foreground: 222 47% 11%;

  /* Muted/secondary surfaces + text */
  --muted: 210 40% 96%;
  --muted-foreground: 215 16% 47%;

  /* Borders/inputs/focus */
  --border: 214 32% 91%;
  --input: 214 32% 91%;
  --ring: 221 83% 53%;

  /* Brand (primary) */
  --brand: 221 83% 53%;

  /* Font variable injected by next/font (Inter) */
  /* --font-inter is provided by app/layout.tsx via next/font */
}

/* Prefer dark auto when user requests it */
@media (prefers-color-scheme: dark) {
  :root {
    --background: 222 27% 10%;
    --foreground: 210 20% 98%;

    --card: 222 27% 11%;
    --card-foreground: 210 20% 98%;

    --muted: 222 16% 16%;
    --muted-foreground: 215 16% 75%;

    --border: 222 16% 20%;
    --input: 222 16% 20%;

    --ring: 221 83% 66%;
    --brand: 221 83% 66%;
  }
}

/* --- Semantic utility classes bound to tokens --- */
.bg-background { background-color: hsl(var(--background)); }
.text-foreground { color: hsl(var(--foreground)); }
.bg-card { background-color: hsl(var(--card)); }
.text-muted-foreground { color: hsl(var(--muted-foreground)); }
.border { border-color: hsl(var(--border)); }

/* --- Base resets + quality-of-life tweaks --- */
* { box-sizing: border-box; }
html, body { height: 100%; }
html { color-scheme: light dark; scroll-behavior: smooth; }

body {
  /* Inter font variable comes from next/font (see app/layout.tsx) */
  font-family: var(--font-inter), system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
  background-color: hsl(var(--background));
  color: hsl(var(--foreground));
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Accessible focus outline */
:focus-visible {
  outline: none;
  box-shadow: 0 0 0 2px hsl(var(--ring) / 0.95);
  border-radius: 0.5rem;
}

/* Reduce layout shift for media */
img, svg, video, canvas { display: block; max-width: 100%; height: auto; }

/* Selection color for readability */
::selection {
  background: hsl(var(--brand) / 0.25);
}

/* Motion safety */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after { animation-duration: 0.01ms !important; animation-iteration-count: 1 !important; transition-duration: 0.01ms !important; scroll-behavior: auto !important; }
}

/* Layout helper (optional) */
.container { max-width: 72rem; margin-inline: auto; padding-inline: 1rem; }
